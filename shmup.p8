pico-8 cartridge // http://www.pico-8.com
version 41
__lua__
-- very generic shmup 
-- (c) 2023 jimmac.eu

function _init()
 --custom font
 poke(0x5600,unpack(split"6,8,10,0,0,1,0,0,0,0,0,0,0,0,0,0,101,0,16,96,102,112,118,6,112,0,0,0,0,102,112,112,16,0,112,7,80,23,39,1,0,112,7,33,0,7,0,0,16,0,112,7,80,23,39,1,0,112,7,33,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,63,63,63,63,63,63,63,0,0,0,63,63,63,0,0,0,0,0,63,51,63,0,0,0,0,0,51,12,51,0,0,0,0,0,51,0,51,0,0,0,0,0,51,51,51,0,0,0,0,48,60,63,60,48,0,0,0,3,15,63,15,3,0,0,62,6,6,6,6,0,0,0,0,0,48,48,48,48,62,0,99,54,28,62,8,62,8,0,0,0,0,24,0,0,0,0,0,0,0,0,0,12,24,0,0,0,0,0,0,12,12,0,0,0,10,10,0,0,0,0,0,4,10,4,0,0,0,0,0,0,0,0,0,0,0,0,6,6,6,6,0,6,6,0,27,27,0,0,0,0,0,0,0,54,127,54,54,127,54,0,8,62,11,62,104,62,8,0,0,27,24,12,12,6,54,0,14,27,27,110,59,59,110,0,6,6,0,0,0,0,0,0,6,7,3,1,3,7,6,0,3,7,6,4,6,7,3,0,0,0,27,14,31,27,0,0,0,0,0,6,15,6,0,0,0,0,0,0,0,6,7,3,0,0,0,15,15,0,0,0,0,0,0,0,0,6,6,0,32,48,24,12,6,3,1,0,14,31,27,27,27,31,14,0,6,7,7,6,6,15,15,0,15,31,24,14,3,31,31,0,15,31,24,14,24,31,15,0,27,27,27,30,24,24,24,0,31,31,3,15,24,31,15,0,14,15,3,15,27,31,14,0,31,31,24,28,6,6,6,0,14,31,27,14,27,31,14,0,14,31,27,30,24,30,14,0,0,0,6,6,0,6,6,0,0,0,6,6,0,6,7,3,48,24,12,6,12,24,48,0,0,0,15,15,0,15,0,0,6,12,24,48,24,12,6,0,7,15,12,6,0,6,6,0,0,30,51,59,59,3,30,0,0,14,14,30,27,63,51,0,0,15,31,27,15,27,15,0,0,28,30,7,3,3,30,0,0,7,15,27,27,15,7,0,0,14,15,3,15,3,15,0,14,15,3,15,3,3,3,0,0,28,30,3,27,27,30,0,0,27,27,27,31,27,27,0,0,3,3,3,3,3,3,0,0,14,14,12,12,12,7,0,0,51,51,27,15,31,59,0,0,3,3,3,3,3,15,0,0,54,62,62,107,107,99,0,0,48,51,55,63,59,51,0,0,14,31,27,27,27,14,0,0,15,31,27,15,3,3,0,0,14,31,27,27,15,30,0,0,15,31,27,11,31,27,0,0,14,15,3,6,12,7,0,0,15,15,6,6,6,6,0,0,27,27,27,27,27,14,0,0,51,51,51,27,26,14,0,0,99,99,107,42,62,54,0,0,27,27,27,14,27,27,0,0,27,27,27,14,12,6,0,0,15,15,12,6,3,15,0,62,6,6,6,6,6,62,0,1,3,6,12,24,48,32,0,62,48,48,48,48,48,62,0,12,30,18,0,0,0,0,0,0,0,0,0,0,0,0,31,12,24,0,0,0,0,0,0,14,14,30,27,31,63,51,0,15,31,27,15,27,31,15,0,28,30,7,3,3,31,30,0,7,15,27,27,27,15,7,0,14,15,3,15,3,15,15,0,14,15,3,15,3,3,3,0,28,30,3,27,27,31,30,0,27,27,27,31,31,27,27,0,3,3,3,3,3,3,3,0,14,14,12,12,12,15,7,0,51,51,27,15,31,51,51,0,3,3,3,3,3,15,15,0,54,62,62,107,107,99,99,0,48,51,55,63,59,51,51,0,14,31,27,27,27,31,14,0,15,31,27,31,15,3,3,0,14,31,27,27,15,30,28,0,15,31,27,11,31,31,27,0,14,15,3,6,12,15,7,0,15,15,6,6,6,6,6,0,27,27,27,27,27,31,14,0,51,51,51,27,27,31,14,0,99,99,107,107,62,62,54,0,27,27,31,14,27,27,27,0,27,27,27,14,12,6,6,0,15,15,12,6,3,15,15,0,56,12,12,7,12,12,56,0,8,8,8,0,8,8,8,0,14,24,24,112,24,24,14,0,0,0,110,59,0,0,0,0,0,0,0,0,0,0,0,0,127,127,127,127,127,127,127,0,85,42,85,42,85,42,85,0,65,99,127,93,93,119,62,0,62,99,99,119,62,65,62,0,17,68,17,68,17,68,17,0,4,12,124,62,31,24,16,0,28,38,95,95,127,62,28,0,34,119,127,127,62,28,8,0,42,28,54,119,54,28,42,0,28,28,62,93,28,20,20,0,8,28,62,127,62,42,58,0,62,103,99,103,62,65,62,0,62,127,93,93,127,99,62,0,24,120,8,8,8,15,7,0,62,99,107,99,62,65,62,0,8,20,42,93,42,20,8,0,0,0,0,85,0,0,0,0,62,115,99,115,62,65,62,0,8,28,127,28,54,34,0,0,127,34,20,8,20,34,127,0,62,119,99,99,62,65,62,0,0,10,4,0,80,32,0,0,17,42,68,0,17,42,68,0,62,107,119,107,62,65,62,0,127,0,127,0,127,0,127,0,85,85,85,85,85,85,85,0"))
 score=0
 blinkt=0
 splat=splat()
 btnrelease=true
	mode="start"
	music(0)
	lockout=0
	t=0
end

function _update60 ()
  blinkt+=1
  
  if mode=="game" then
	  update_game()
	 elseif mode=="wavetext" then
	 	update_wavetext()
	 elseif mode=="gameover" then
	  update_gameover()
	 elseif mode=="youwin" then
	  update_youwin() 
	 else
	 --start
	 	update_start()
	 end
end

function _draw ()
  if mode=="game" then
	  draw_game()
	 elseif mode=="wavetext" then
	 	draw_wavetext()
	 elseif mode=="gameover" then
	  draw_gameover()
	 elseif mode=="youwin" then
	  draw_youwin()	  
	 else
	 --start
	 	draw_start()
	 end
end

function startgame()
	mode="wavetext"
	flash=0
	firet=0
	wave=0
	nextwave()
	wavet=160
	nextfire=300
	--player
	pl=makespr()
	pl.x=63
	pl.y=100
	pl.spx=0
	pl.spy=0  --speed
	pl.spr=2
	pl.lv=3   --number of lives
	pl.inv=0  --invincibility 
	          -- frames
	flame=4   --spr of flame
	
	bl={} --bulets
	ebl={} --enemy bullets
	
	en={} --enemies
	attackfreq=120
	
	parts={} --particles
	
	sws={} --shockwaves
	
	--starfield
	stars={}
	for i=1,100 do
		local newstar={}
		newstar.x=flr(rnd(128))
		newstar.y=flr(rnd(128))
		newstar.s=rnd(1.5)+0.5
		add(stars,newstar)
	end	
end
-->8
--tools


function draw_menu ()
  --score
  palt(0,false)
  print("score: "..score,49,0,0)
  print("score: "..score,51,0,0)
  print("score: "..score,49,2,0)
  print("score: "..score,50,2,0)
  print("score: "..score,51,2,0)
  print("score: "..score,50,1,6)
  palt()
  --lives
  for i=1,3 do 
	  if i<=pl.lv then h=9 else h=8 end
	  spr(h,i*8)
  end
end

function bang() --muzzle flash
  if flash>0 then
   circfill(pl.x+3,pl.y-3,flash,7)
   flash-=1
  end
end

--nicer labels
function blink()
 local cols={5,5,5,5,5,5,
 												5,5,5,5,5,5,
 												5,5,5,5,5,5,
 												10,10,10,10,10,10,
 												7,7,7,7,7,7,
 												7,7,7,7,7,7}
 
	if blinkt>#cols then
		blinkt=0
	end
	
	return cols[blinkt+1]
end

function splat() --start screen bg
 local tbl={}
 for i=1,20 do
	 tbl[i]={}
 	tbl[i].x=60-rnd(40)+rnd(40)
 	tbl[i].y=45-rnd(20)+rnd(20)
 	tbl[i].r=4+rnd(8)
 end
 
	return tbl
end

function draw_logo(l)
 --background
 --jitter=1+rnd(0.01)
 jitter=1
 
 for i=1,#splat do
 	circfill(splat[i].x*jitter,
 	         splat[i].y*jitter,
 	         splat[i].r,
 	         8)
 end
	if l==1 then
		 spr(64,0,36,16,4)
	end
end

function drwspr(myspr)
 local sprx=myspr.x
 local spry=myspr.y
 
 if myspr.shake>0 then
 	myspr.shake-=1
 	sprx+=sin(t/(4*3.14))
 end
 
 --fake hitbox for ebullets
 if myspr.bulmode then
 	sprx-=2
 	spry-=2
 end
 
	spr(myspr.spr,sprx,spry,myspr.sprw,myspr.sprh)
end

function col(a,b)
	--collision between a and b
	--assumes 8x8 sprites
	local a_left=a.x
	local a_top=a.y
	local a_right=a.x+a.colw
	local a_bottom=a.y+a.colh
	
	local b_left=b.x
	local b_top=b.y
	local b_right=b.x+b.colw
	local b_bottom=b.y+b.colh

	if a_top>b_bottom then	return false	end
	if b_top>a_bottom then	return false	end
 if a_left>b_right then	return false	end
 if b_left>a_right then	return false	end
 
 return true
end

function flashpal()
	for i=1,16 do
		pal(i,7)
	end
end

function setoff_explosion(x,y,kind)
  if kind==nil then kind="generic" end
 --create particle
	for i=1,50 do
		local myp={}
		myp.x=x
		myp.y=y
		myp.age=rnd(2)
		myp.size=1+rnd(2)
		myp.kind=kind
		if rnd()>0.5 then
			myp.spark=true
			myp.sx=(rnd()-.5)*10
 		myp.sy=((rnd()-.5)*10)
 		myp.maxage=10+rnd(20)
		else
		 myp.spark=false
 		myp.sx=(rnd()-.5)*2
 		myp.sy=((rnd()-.5)*2)
			myp.maxage=20+rnd(20)
		end
		add(parts,myp)
	end
end

function setoff_sparks(x,y)
--create spark (when enemy hit)
for i=1,2 do
	local myp={}
	myp.x=x
	myp.y=y
	myp.age=10+rnd(2)
	myp.maxage=rnd(10)
	myp.size=1+rnd(2)
	myp.sx=(rnd()-.5)*10
	myp.sy=((rnd()-1)*10)
	myp.kind="generic"
	myp.spark=true
	
	add(parts,myp)
end

end

function setoff_sw(x,y,maxage)
	--set up shockwave
	local mysw={}
	
	mysw.x=x
	mysw.y=y
	mysw.s=5
	mysw.r=0
	if maxage==nil then
		mysw.maxage=100
	else
		mysw.maxage=maxage
	end
	mysw.age=0
	add(sws,mysw)
end

--recolor explosion particles
function age_to_c(age,kind)
	local colors={}
	colors["generic"]={7,10,9,8,2}
	colors["player"]={7,12,14,13,1}
	if age<10 then
		c=colors[kind][1]
	elseif age<=15 then
		c=colors[kind][2]
	elseif age<=20 then
		c=colors[kind][3]
	elseif age<=25 then
		c=colors[kind][4]
	else
	 c=colors[kind][5]
	end
	
	return c
end

function spawn_bullet(x,y,spr)
	local newbl=makespr()
	
	newbl.x=x
	newbl.y=y
	newbl.sy=-2
	newbl.spr=spr
	add(bl,newbl)
end

function makespr()
	local myspr={}
	myspr.x=0
	myspr.y=0
	myspr.sx=0
	myspr.sy=0
	myspr.flash=0
	myspr.shake=0
	myspr.aniframe=1
	myspr.spr=0
	myspr.sprw=1
	myspr.sprh=1
	myspr.colw=8
	myspr.colh=8
	
	return myspr
end

function move(obj)
  obj.x+=obj.sx
  obj.y+=obj.sy
end

function animate(myen)
	--sprite animation
	myen.spr=myen.ani[flr(myen.aniframe)]
	myen.aniframe+=myen.anispd
	
	if (myen.aniframe>=#myen.ani+.9) then
		myen.aniframe=1
	end
end
-->8
--update
function update_game()
	t+=1
	
 --starfield
 update_stars()
 
	--flame
	flame=4+rnd(3)

 --ship movement
	if btn(â¡ï¸) and pl.x<119 then
		pl.spx=2
		pl.spy=0
		pl.spr=3
	elseif btn(â¬…ï¸) and pl.x>1 then
		pl.spx=-2
		pl.spy=0
		pl.spr=1
	elseif btn(â¬†ï¸) and pl.y>0 then
	 pl.spr=2
	 pl.spx=0
	 pl.spy=-1
	elseif btn(â¬‡ï¸) and pl.y>=0 and pl.y<110 then
	 pl.spr=2
	 pl.spx=0
	 pl.spy=2
	 flame=7 --small flame
	else 
	 pl.spy=0
		pl.spx=0	
		pl.spr=2
	end
	pl.x=pl.x+pl.spx
	pl.y=pl.y+pl.spy 
	
	-- spawn enemies if wave over
 if mode=="game" and #en==0 then
		nextwave()
	end
	
	--moving enemies
	for myen in all(en) do
  --mission
  doenemy(myen)
  --enemy animation
  animate(myen)
		-- kill offscreen enemies
		if myen.mission!="flyin" then
			if myen.y>150 or myen.x>170 or myen.x<-42 then
			 del(en,myen)
			end
		end
	end
	-- picking an enemy for attack
	enpicktimer()
	
	
	
	--collision pl x en
	if pl.inv<=0 then
		for myen in all(en) do
			if col(myen,pl) then
			 local encx=myen.x+myen.sprw*4
			 local ency=myen.y+myen.sprh*4
			 local plcx=pl.x+pl.sprw*4
			 local plcy=pl.y+pl.sprh*4
				pl.lv-=1
				pl.inv=90
				sfx(1)
				del(en,myen)
				setoff_explosion(encx-rnd(10),ency-rnd(10))
				setoff_explosion(plcx+rnd(10),plcy+rnd(10),"player")
				setoff_sw(plcx,plcy)
			end
		end
	end
	pl.inv-=1
	if pl.lv<=0 then
		pl.inv=0 --don't flash at the end
		mode="gameover"
		music(40)
	end
	
	--collision pl x enemy bullets
	if pl.inv<=0 then
		for myebul in all(ebl) do
			if col(myebul,pl) then
			 local encx=myebul.x+myebul.sprw*4
			 local ency=myebul.y+myebul.sprh*4
			 local plcx=pl.x+pl.sprw*4
			 local plcy=pl.y+pl.sprh*4
				pl.lv-=1
				pl.inv=90
				sfx(1)
				del(ebl,myebul)
				setoff_explosion(plcx+rnd(10),plcy+rnd(10),"player")
				setoff_sw(plcx,plcy)
			end
		end
	end
	pl.inv-=1
	if pl.lv<=0 then
		pl.inv=0 --don't flash at the end
		mode="gameover"
		music(40)
	end
	
	--shooting
	if btn(â) then
		if firet<=0 then
			sfx(0)
			spawn_bullet(pl.x,pl.y-3,15)
	 	firet=4 --frames between shots
		 flash=6 --size of the muzzleflash resets
		else
			firet-=1
		end
	else
		--immediate fire cooldown 
		-- when not â
		firet=0
	end

	--move player bullets
	for bullet in all(bl) do
		move(bullet)
		if bullet.y<-8 then --delete offscreen bullets
			del(bl,bullet)
		end
	end
	
	--move enemy bullets
	for myebul in all(ebl) do
		move(myebul)
		
		if myebul.y>150 or myebul.x>170 or myebul.x<-42 or myebul.y<0 then
			del(ebl,myebul)
		end
		animate(myebul)
	end
	
	--collision bullets vs enemies
	for bullet in all(bl) do
		for myen in all(en) do
			if col(bullet,myen) then
				del(bl,bullet)
				myen.hp-=1
				sfx(3)
				myen.flash=3
				--every hit triggers sw
				local encx=myen.x+myen.sprw*4
			 local ency=myen.y+myen.sprh*4
				setoff_sw(encx,ency,2)
				--and sparks
				setoff_sparks(encx,ency)
				if myen.hp<=0 then
				 killen(myen)
				end
			end
		end
	end
end

function update_wavetext()
	update_game()
	wavet-=1	

	if wavet<=0 then
		mode="game"
		spawnwave()
	end
end

function update_start()
 if btn(â)==false and btn(ğŸ…¾ï¸)==false then
 	btnrelease=true
 end

 if btnrelease then
		if btnp(â) or btnp(ğŸ…¾ï¸) then
			startgame()
			music(16)
			btnrelease=false
		end
	end

end

function update_gameover()
 if btn(â)==false and btn(ğŸ…¾ï¸)==false then
 	btnrelease=true
 end
 
 if btnrelease then
		if btnp(ğŸ…¾ï¸) or btnp(â) then
			mode="start"
			btnrelease=false
		end
	end
end

function update_youwin()
 if btn(â)==false and btn(ğŸ…¾ï¸)==false then
 	btnrelease=true
 end
 
 if btnrelease then
		if btnp(ğŸ…¾ï¸) or btnp(â) then
			mode="start"
			btnrelease=false
			music(0)
		end
	end
end

function update_stars()
  for mystar in all(stars) do
  	
  	mystar.y=mystar.y+mystar.s
  	if mystar.y>128 then
  	  mystar.y=mystar.y-128
  	end
  end 
end

-->8
--draw

function draw_game()
	cls(0)
	--starfield
	draw_stars()

	--player
	if pl.lv>0 then --dont render when dead
		if pl.inv<=0 then
		 --ship
			drwspr(pl)
			--flame
	 	spr(flame,pl.x,pl.y+5)
	 else
	  --invulnerable state
	  if sin(t/10)<0.1 then
		  drwspr(pl)
		  spr(flame,pl.x,pl.y+5)
		 end
		end
	end
	
	--enemies
	for myen in all(en) do
		if myen.flash>0 then
			myen.flash-=1
			flashpal()
		end
		drwspr(myen)
		pal()
	end
	

	bang() --show muzzle flash

 --big explosion--
	--showckwave
	for mysw in all(sws) do
	 circ(mysw.x,mysw.y,mysw.r,1)
	 circ(mysw.x,mysw.y,mysw.r+1,2)
	 circ(mysw.x,mysw.y,mysw.r+2,5)
	 mysw.s=mysw.s+.9 --slowdown
	 mysw.r=mysw.r+mysw.s
		mysw.age+=1
	 if mysw.age>mysw.maxage then
			del(sws,mysw)
		end

	end
	--explosion and sparks
	for myp in all(parts) do
		local c=7
		local r=1/(myp.age)*myp.size*40
		
		c=age_to_c(myp.age,myp.kind)

		if myp.spark then
		 pset(myp.x,myp.y,7)
		else
			circfill(myp.x,myp.y,r,c)
		end
		myp.x+=myp.sx
		myp.y+=myp.sy
		myp.sx=myp.sx*0.93 --dampen
		myp.sy=myp.sy*0.93
		myp.age+=1
				
		if myp.age>myp.maxage then
		 myp.size-=0.5
		 if myp.size<0 then
				del(parts,myp)
			end
		end
	end
	
	--bullets
	for mybul in all(bl) do
		drwspr(mybul)
	end

	--drawing enemy bullets
	for myebul in all(ebl) do
		drwspr(myebul)
	end
	
 --top menu
 draw_menu()
 
 --debug
 print(t,2,102,15)
 print(#ebl)
end

function draw_wavetext()
	draw_game()
	if wave==6 then
		print("final boss approaching",23,40,blink())
	else
		print("wave "..wave.." approaching",30,40,blink())
	end
end


function draw_start()
	cls(2)
	draw_logo(1)
	
	print("press any button\
    to start", 34,100,blink())
end

function draw_gameover()
 draw_game()

	print("\14 game over",36,41,1)
	print("\14 game over",36,40,7)

	print("press any button", 36,101,1)	
	print("press any button", 36,100,blink())
end

function draw_youwin()
 cls(9)

	print("\14 you won!",38,40,7)

	print("press any button", 46,100,blink())
end

--draw starfield
function draw_stars()
  for i=1,#stars do
  	local mystar=stars[i]
  	local scol=6
  	
  	if mystar.s<1 then
  		scol=1
  	elseif mystar.s<1.5 then
  		scol=13
  	end
  	
  	pset(mystar.x,mystar.y,scol)
  end
end
-->8
--enemies

function nextwave()
 wave+=1
 
 if wave>5 then
	 mode="youwin"
	 lockout=t+30
	 music(24)
 else --waves
 	mode="wavetext"
 	wavet=160
 end
end

function spawnwave()
	--wave editor
	if wave==1 then
		placen({
			{1,1,1,1,1,1,1,1,1,1},
			{0,1,1,1,1,1,1,1,1,0},
			{0,0,1,1,1,1,1,1,0,0},
			{0,0,0,1,1,1,1,0,0,0}
		})
		sfx(33)
	elseif wave==2 then
	 attackfreq=90
		placen({
			{1,1,1,0,2,2,0,1,1,1},
			{1,1,1,0,2,2,0,1,1,1},
			{1,1,1,0,2,2,0,1,1,1},
			{1,1,1,0,2,2,0,1,1,1}
		})
		sfx(33)
	elseif wave==3 then
	 attackfreq=60
		placen({
			{3,3,3,3,3,3,3,3,3,3},
			{3,3,4,3,3,3,3,4,3,3},
			{3,3,3,3,3,3,3,3,3,3},
			{0,3,3,3,3,3,3,3,3,0}
		})
		sfx(34)
	elseif wave==4 then
		placen({
			{5,5,5,5,0,0,5,5,5,5},
			{5,5,5,5,0,0,5,5,5,5},
			{0,5,5,0,0,0,0,5,5,0}
		})
		sfx(34)		
	elseif wave==5 then --boss
		placen({
			{0,0,0,0,6,0,0,0,0,0}
		})
		sfx(35)
	end
end

function efire(myen)
	local myebul=makespr()
	
	myebul.spr=14
	myebul.x=myen.x+3
	myebul.y=myen.y+6
	myebul.spr=14
	myebul.ani={14,30,31,30,14}
	myebul.anispd=.1
	myebul.sy=1
	myebul.sx=(pl.x-myebul.x)/70
	myebul.colw=2
	myebul.colh=2
	myebul.bulmode=true
	
	myen.flash=8
	sfx(4)
	add(ebl,myebul)
end

function placen(mywave)
 
	for i=1,#mywave do --rows
		for j=1,#mywave[i] do --columns
			if mywave[i][j]>0 then
				spawnen(j*12-6,i*12,mywave[i][j],j*4)
			end
		end
	end
end

function spawnen(x,y,entype,enwait)
	if entype==nil then entype=1 end
	
	local myen=makespr()
	myen.x=x*(rnd()*10)
	myen.y=y-128
	
	myen.posx=x
	myen.posy=y
	
	myen.wait=enwait
	myen.type=entype
	myen.anispd=.1
			
	myen.aniframe=1+rnd(4) --first frame of animation	
	if entype==6 then
		--big boy
		myen.sprw=2
		myen.sprh=2
		myen.colw=16
		myen.colh=16
		myen.hp=50
		myen.spy=.1
		myen.spx=1
		myen.ani={24,26,28}
	elseif entype==5 then
		--skull
		myen.hp=4
		myen.spy=.2
		myen.spx=0
		myen.ani={48,49,50,51}
	elseif entype==4 then
		myen.hp=3
		myen.spy=.5
		myen.spx=0
		myen.ani={36,37,38,39}
	elseif entype==3 then
		myen.hp=3
		myen.spy=.2
		myen.spx=0
		myen.ani={32,33,34,35}
	elseif entype==2 then
		myen.hp=1
		myen.spy=.2
		myen.spx=0
		myen.ani={20,21,22,23}
	else
		--default 1
		myen.hp=2
		myen.spy=.21
		myen.spx=0
		myen.ani={16,17,18,19}
	end
	myen.flash=0
 myen.mission="flyin"
	add(en,myen)
end

function killen(myen)
 local encx=myen.x+myen.sprw*4
 local ency=myen.y+myen.sprh*4

	sfx(2)
	score+=10
	if myen.mission=="attac" then
		pickattac()
	end
	del(en,myen)
	--explode where it was
	setoff_explosion(encx,ency)
	setoff_sw(encx,ency)
	
end
-->8
--behaviors

function doenemy(myen)
	if myen.wait>0 then 
		myen.wait-=1
		return
	end

 if myen.mission=="flyin" then
  --flying in
  --easing
  myen.y+=(myen.posy-myen.y)/10
  myen.x+=(myen.posx-myen.x)/5
  
  if abs(myen.posy-myen.y)<.9 then
  	myen.y=myen.posy --snap to final destination
  	myen.x=myen.posx
   myen.mission="protec"
  end
  
 elseif myen.mission=="protec" then
  -- staying put
		
 elseif myen.mission=="attac" then
  if myen.type==1 then
  --basic suicide attack
	  myen.sy=.5
	  myen.sx=sin(t/45)
	  -- push from edges
	  if myen.x<32 then
	  	myen.sx+=1-(myen.x/32)
	  end
	  if myen.x>88 then
	  	myen.sx-=(myen.x-88)/32
	  end
  elseif myen.type==2 then
 	 --fast trooper
	  myen.sy=2.5
	  myen.sx=sin(t/20)
	  -- push from edges
	  if myen.x<32 then
	  	myen.sx+=1-(myen.x/32)
	  end
	  if myen.x>88 then
	  	myen.sx-=(myen.x-88)/32
	  end
  elseif myen.type==3 then
   --sideway attacking beast
  	if myen.sx==0 then --mode
  	--flying down
  		myen.sy=1
  		if (pl.y)<=myen.y then
 		--flying horizontally
 				myen.sy=0
  			if pl.x<myen.x then
  				myen.sx-=1
  			else
  				myen.sx+=1
  			end
  		end
  	end
  elseif myen.type==5 then
	  --skull
			myen.sy=0.5
	  if myen.y>pl.y then
	  	myen.sy=2
	  end
	  if pl.x+1<myen.x then
	  	myen.sx=-.3
	  elseif pl.x-1>myen.x then
	  	myen.sx=.3
	  else
	  	myen.sx=0
	  end
  elseif myen.type==6 then
  --big boy
	  myen.sy=0.35
	  if myen.y>100 then
	  	myen.sy=1
	  end
  else
  --fixme:boss

  
	 end
  move(myen)
 end
end

function enpicktimer()

 if mode!="game" then
 	return
 end
 local myen=rnd(en)
	if t%attackfreq==0 then
	 pickattac()
	end
	if t>nextfire then
		pickfire()
		nextfire=t+20+rnd(100*(1/wave))
	end
end

function pickattac()
	--pick something from the tail of
	--the grid
	local maxnum=min(8,#en)
	local myindex=#en-flr(rnd(maxnum))
	local myen=en[myindex]
	
	if myen.mission=="protec" then
		myen.mission="attac"
		myen.wait=60
		myen.shake=60
		myen.anispd=.15
	end
end

function pickfire()
	--pick something from the tail of
	--the grid
	local maxnum=min(8,#en)
	local myindex=#en-flr(rnd(maxnum))
	local myen=en[myindex]
	
	if myen.mission=="protec" then
		efire(myen)
	end
end
__gfx__
00000000000660000006600000066000000000000000000000000000000000000000000000000000000000000000000000000000000000000222200097900979
000000000007d00007076070000760000000000000000000000000000000000002828200028282000000000000000000000000000000000028dd820077700777
0000000000c6d0000d6c16d00007dc00000000000000000000000000000000000808080008888800000000000000000000000000000000002d22d200a7a00a7a
0000000000c6d0000d6c16d000077c000c7777c000c77c0000c77c00001dd10008000800088888000a7777a000a77a0000a77a00001881002d22d200a7a00a7a
000000000dd6d000d667df6d00077d600dccccd000dccd0000dccd0000011000028082000288820009aaaa90009aa900009aa9000001100028dd8200aaa00aaa
000000006dd6d0006667d6f600077d6601dddd1000dccd00001dd10000000000002820000028200002888820009aa900008998000000000002222000aaa00aaa
000000006dddd00066d22f6f000777d600000000001dd1000001100000000000000000000000000000000000008998000028820000000000000000009a9009a9
00000000000cc00002dccd20000cdd00000000000001100000000000000000000000000000000000000000000028820000000000000000000000000009000090
001111000011110000111100001111000166dd100166dd100166dd10016666100000000000000000000000000000000000000000000000000222200002222000
01ccddd001ccddd001ccddd001ccddd016666dd116666dd116666dd116666d610066dd111dd000000066dd111dd0000000066dd111dd600028ee820028998200
1ccdd2261ccdd22d1ccdd22d1ccdd88dd622717dd688727dd699787d6887dddd066616666ddd0000066616666ddd000000666166666160d02e22e20029229200
1c12c1261c22c22d1c92d92d1c88d88dd62877ddd68977ddd69a77dd689726dd061d667776dd0000061d667777dd0dd00061d6677676dddd2e22e20029229200
1c22cd611c22c6611c22dd611c88dd61d6776dddd6776dddd6776dddd666776d06d677777661ddd006d677777771dddd006d16777767610d28ee820028998200
11ccd61111ccd61111ccd61111ccd611166607d1166607d1166607d11d70dd610dd677722766dddd0dd6777722760d0dd0dd67777722610d0222200002222000
01c1d11001c1d11001c1d11001c1d1100116dd100116dd100116dd100166d1100d1622782266010d0d1672278226010dd0d167722782611d0000000000000000
0111110001111100011111000111110000167d1000167d1000167d100167d100001628798266010d00167287982611ddd00167728798601d0000000000000000
000000000000000000000000000000000011110000111100001111000011110000167777766610dd00167777777610ddd0016677776661100000000000000000
00dddd0000dddd0000dddd0000dddd0001666a2001666a1001666a1001666a200dd6611766711dd00dd6671717611dd000dd16677116d1000000000000000000
0d6776d00d6776d00d6776d00d6776d0066776a2066ff6a1066ff6a1067776a2ddd66666667d1dd0ddd66666666010d00dddd6667766d0000000000000000000
0d1176d00d8876d10daa76d10d8876d1167717a21dddddd1166ff6a1167717a2ddd67676111010d0ddd16676767000000ddd11116766d0000000000000000000
16187160168a616116a7716116896161167007e2167007e21d666ad1167006620d117171111000000d1111717110000000ddd111171710000000000000000000
1677666d1677666d1677666d1677666d1877768218767e8218dddd8118676e820ddd1111110000000ddd11111100000000dddd11111110000000000000000000
126d6d6d126d6d6d126d6d6d126d6d6d028888200d888820028888200288882000d0d0000000000000d0d00000000000000d0d00000000000000000000000000
02d2d2d101d1d1d101d1d1d101d1d1d1002222000011220000222200002222000000000000000000000000000000000000000000000000000000000000000000
1d666dd11d666dd11d677dd11d666dd1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
d66dddddd66dddddd6666dddd66ddddd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
6016d01d6006d00d6007600d6006d00d000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
7176d16d7016d01d7107610d7016d01d000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
6760dddd6760dddd6760dddd6760dddd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
666d6dd166666dd166676dd166666dd1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0666d6100d6d6dd00d6d7dd00d6d6dd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
06060600006060d0006070d0006060d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000ddddddddddddd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000ddd66666666666dd0005677776d0007777000067777d07777000007777077770000000777700000000000000000000000000000000000000
00000000000000ddd666666666666666dd6767677776007777000d7777d007777000007777077770000000777700000000000000000000000000000000000000
0000000000000dd666666666666666666d6676777777d077770057777600077770000077770777700000007777000000000000ddddddddd00000000000000000
000000000000dd6666666666666666666dd66655677770777700677761000777700000777707777000000077770000000000dddd6777766dd000000000000000
000000000000d6666666dd6d6d666d6ddddd65001666607777067777500007777000007777077770000000777700000000ddd66777777766dd00000000000000
00000000000dd666666d6666666d6666666dd66d5000007777d7777d000007777000007777077770000000777700000000d77dd7777777766dd0000000000000
0000000000dd6d666dd667777767dd777766dd66766100777777777000000777700000777707777000000077770000000777777d7777777766ddd00000000000
0000000000d6d666dd66777666667d77dddd6dd66767507777777775000007777000007777077770000000777700000d7766266667666ddd6666dd0000000000
0000000000dd666dd66776d1111d6d7dd22d6dd6667660777777777600000777700000777707777000000077770000dd7682828666667777d66ddd0000000000
0000000000d6d66d66776112818d6ddd2282d6d66667707777767777d0000777700000777707777000000077770000d662282826662222667d6ddd0000000000
000000000ddd66dd67661128282dddd12828d6d05676707777606777750007777d000d777707777000000077770000dd66829226628282266d66ddd000000000
000000000dd6d6dd666d128282826d6122926dd566677077775017777600067777d1d7777607777000000077770000dd7662277662282282666dddd100000000
000000000d6d66dd666118289822d66622266ddd6666607777000d7777d00577777777777507777777777077767666dd77777766628292226666dd1100000000
000000000dd6d6dd666d82898922d6226666dddd6666107777000067777100d777777777d007777777777077776766ddd667776672292922766dddd100000000
000000000d6d6d6d666dd2289222d22226dd66dd66d000777700005777760005667776650007777777777077767666dddd7722267722922276661d1100000000
000000000dd6d6dddd66dd22222d622d276666dd0000000000000000000000000000000000000000000000000000000d66722276dd622222766d11d100000000
00000000001d6d6dddd6ddd22dd6672d276dddd00000000000000000000000000000000000000000000000000000000d67727776d666627766dd1d1100000000
000000000011ddddd6ddddddd6666777276dd000000000000000000000000000000000000000000000000000000000dd6777766ddd66666d6dd111d100000000
0000000000011ddd1d6ddd66666667777766dd0000000000777777e007770077700ee777e07777777077777707777dd6777666d6dddd66d6dd111d1100000000
00000000000111ddd1d6666666d667777776dd00000000007777777e0777007770e7777770777777707777770777dddd7776666d6d1111dd1111d1d100000000
000000000000111ddd1d666d1dd6667777777700000000007770077e07770077707770e7707777777077000007701d7dddd66dd6d6dd1111111d1d1100000000
0000000000000111ddd1d1d1dddd667777767770000000007770077e0777007770777e00000077700077eeee0770d776d7dddd6dddddd11111d1d11000000000
000000000000001111ddddddd1dd667766666666600000007777777007770077700e7777e00077700077777707771d76d76d6ddd1d1d1d1d1d1d110000000000
0000000000000000111ddd1d1d1dd7767766776d600000007770077e077700777000e777770077700077eeee077771edd76d6d11d1d1d1d1d111100000000000
0000000000000000000111d1d1d11dd6dd66dd6d100000007770077e0777ee777077710777007770007700000770e7111ddddd11111d1d111110000000000000
00000000000000000000011111101dd1dd11d111100000007777777e0e777777e0e7777777007770007777770770e77e01111100001111110000000000000000
000000000000000000000000000001111111110000000000777777e000ee77ee100e7777e0007770007777770770077e00000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000228888820000000022222220000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000022888998880000002228888828000000000000022280000000000002228000000000000000000000000000000000000000000000000
00000000000000000000228889999980000022228888822000000000000002880000000000000288000000000000000000000000000000000000000000000000
00000000000000000000888889a777800000222288aa988200000000008882820000000000000282000000000000000000000000000000000000000000000000
000000000000000000028899997777800002222288a9998200000000008999200000000000000220000000000000000000000000000000000000000000000000
00000000a000000000288aa777777980002282228877798200000000008999000000000000000000000000000000000000000000000000000000000000000000
000000aaaa000000008889777779988000228222aa77988200000000888988000000000000000000000000000000000000000000000000000000000000000000
00000a7777a000000088977777a998800088888aa77a888200000008899980000000000000000000000000000000000000000000000000000000000000000000
00000a777779000002899777777998800288988a777a288200000028977880000000002000000000000000000000000000000000000000000000000000000000
0000977777a9000008897777777798820288898a77a9228200000228997988000000022000000000000000000000000000000000000000000000000000000000
0000977777a0000008897779a77799820899779aaaa9922200022999988888800002222000000000000000000000000000000000000000000000000000000000
00000a77aaa00000088977998777a980089977988889982200228999788898800022882200000000000000000000000000000000000000000000000000000000
000000aa900000000889998888a7a988028998888897722200288222088897800028822200000000000000000000000000000000000000000000000000000000
000000000000000002888888889a9982002222288899988200222222008999200022222200000220000000000000000000000000000000000000000000000000
00000000000000000020222228999880000000222299982200000000002288800000000000228880000000000000000000000000000000000000000000000000
00000000000000000000000002888220000000000222222000000000002022200000000000202220000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000222222000000222222222222280000000022882228000000000000000000000000000000000000000000000000
00000000000000000000228888882000000082288882220002899999999988880000222222288888000000000000000000000000000000000000000000000000
00000000000000000002288889a882000000228889a8822002899aaaaaaa98820000220000022882000000000000000000000000000000000000000000000000
000000000000000000028899997788200002289999aaa8202889aa99999aa9820000220000022288000000000000000000000000000000000000000000000000
00000000a000000000288aa77997782000828aaaaa97a822289a99988899a9980002220000002228000000000000000000000000000000000000000000000000
000000aaaa0000000028897777999880002289a77aa9a882289a99888889aa820002200000002228000000000000000000000000000000000000000000000000
00000a7777a000000088977777a9988000289aa777aa9822289a988222289a880002200000000028000000000000000000000000000000000000000000000000
00000a7777790000008997777777778002299a77777aa720288a998822289a980022000000000088000000000000000000000000000000000000000000000000
0000977777a90000008997777777798002899aaaaaaaa8202289a99882889a980022000000000028000000000000000000000000000000000000000000000000
0000977777a0000000889779a777998202289aaaaaaa828802889a9988899a980000000000000020000000000000000000000000000000000000000000000000
00000a77aaa000000088899997999aa80022899997988aa8022889aa7999aa980000000000000220000000000000000000000000000000000000000000000000
000000aa90000000002288888889a7a80022888888889a9800228899aaaaa9880000000000000200000000000000000000000000000000000000000000000000
0000000000000000000028888889aa82000222228828999800222888999998820028222200000220000000000000000000000000000000000000000000000000
00000000000000000000000022888820000000002220888800002228888888200008022222228880000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000002222222200022000000202220000000000000000000000000000000000000000000000000
__label__
0000000000000000000000000000000010101011141455ddddd666677777777777777777676666ddddd554541110101010000000000000000000000000000000
00000000000000000000000000000000010101011145455ddd6d6666777777777777777776666d6ddd555541110101010100000000000000000000000000001d
0000000000000000000000000000000010101011111455d5ddd6d66767777777777777676666d6ddd555541411101010100000000000000000000000000000d5
00000000000000000000000000000001010101011111455ddddd6d667677777777777676666d6ddd5555414111010101010000000000000000000000000000d1
000000000000000000000000000000001010101011141455ddddd66667676777777767666666ddd55554141110101010100000000000000000000000000005d1
0000000000000000000000000000000101010101111145455ddd6d6d66767677777666666d6ddd55554141111101010100000000000000000000000000005100
00000000000000000000000000000010101010101111145555ddd6d66667676777666666d6d6ddd554141111101010101000000000000000000000000000d110
0000000000000000000000000000000101010101111141455ddddd6d666666667666666d6d6d5d55454111110101010100000000000000000000000000005511
00000000000000000000000000000000101010101111145455d5ddddd6666666766666d6d6dd555154111110101010100000000000000000000000000000d555
000000000000000000000000000000010101010111111145455ddddddd6d666666666d6d6dd55545411111110101010000000000000000000000000000d51111
0000000000000000000000000000000000101010111111145555d5ddddd6dd66666dd6d6dddd5454141111101010101000000000000000000000000000655111
0000000000000000000000000000000001010101011111111555556dddddd6d6765ddddddd561541411111010101010000000000000000000000000000d55111
0000000000000000000000000000000000101010111111115455557ddddddd66751dddddd5d614541411111010101000000000000000000000000000000d5111
0000000000000000000000000000000000010101011111114545556dddddddd7d111dddd55571541411111010101000100000000000000000000000000565555
0000000000000000000000000000000000101010111111111455557ddddddd66d510ddd5d556145414111110101000000000000000000000000000000056ddd5
0000000000000000000000000000000000010101011111114545556ddddddd6d10000ddd555715414111110101010100000000000000000000000000000105dd
0000000000000000000000000000000000001010111111111454556ddddddd7510011dd5d55611141111111010000000000000000000000000000000000015dd
0000000d00000000000000000000000000010101011111111545556d6767dd6d55111d6755571541411111010101000000000000000000000000000000005dd6
0000000011000000000000000000000000001010111111111454556677777d7d511115777656111411111110101000000000000000000000000000000001dddd
0000000001d0000000000000000000000001010111111111154555677777776d000115777757151111111100010000000000000000000000000000000015dd55
0000000000160d000000000000000000000000101111111111555d6777777765100015777776661111111110101000000000000000000000000000000055ddd5
000000000101d650000000000000000000000101111111111556d767f777776510000167ff67671111111101010100000000000000000000000000000015dddd
00000000001016600000000000000000001010101155511155d677777677766110000166f6f77611115115501010100000000000000000000000000000001155
0600000000000dd0000000000000000000010101155555d155d66767777757d167d001166667675111111555010100010000000000000000000000000000001d
00000000000001110000000000000000101010111555551155dd6677777676666010011df7777661665155555010001000000000000000000000000000000155
00000000000001101100000000000000010101011555dd5dddddd66ff76667d6d01100057777d556665511d11501010000000000000000000000000000055ddd
000000000000000000d0000000000000001010555551005011551566ff65d676d1010011776d511000000001515010000000000000000000000000000005dddd
00000000000000000005000000000000010101555555d5151ddd666d6f6d576d5101001166d66650000001151115100000000000000000000000000000055d5d
0000000000000000000010000000000000101055555551000000557dff7dd67d510100116d66d150000011111155510000000000000000000000000d55ddd5dd
0000000000000000000001000000000000010155551555500000d1566666d76d5101501105651000000011111115510000000000000000000001110d55511155
00000000000000000000000000000000001011555111115000115155656dd66d51011015556050000000011111155100000000000000000000115dddd5111111
00000000000000000000000000000000010115111111100000011550666ddf6d51011015551001000000051116d511000000000000000000011156dd55111101
000000000000000000000000000000000010115dd111100000000111166dd67d51015015d1050100000001116d5111d0515555000000000000111d6551111001
00000000000000000000000000000101060551155d111000000000155566df6d51051015500200000000011155d5160000000000000000000011155551111115
0000000000000000000000000000000050015616551111000000000105fdd67d51010015000000000000011165d565d00000000000000065d001555511111110
000000000000000000000000000000000000015556111100100000000566d66d550510150000000000000111d000600000001000000015551011155511111101
0000000000000000000000000000000000000d611151110000011100256dd67d51155015222000000000011111000000000010000005d5d511d1511111111000
0000000000000000000000000000000000000000100d111100010002226656dd55151015f422000000511115510000000010000055555d551111551111000000
000000000000000000000000000000000050000001115d501000115524fd5ddd45255055ff42d50000005511001000100000001dddd551111111555511000000
000000000000000000000000000000000000010501111111110004444ffd5ddd445511556fff44000500001110000000000000ddddd5111111111dd6d1000000
000000000000000000000000000000000005010511111001100024fffffd5ddd4455555577ffe40000000011111015000000006ddd65511110111116d1000000
000000000000000000000000000000000000000111111001000101eff76d5e4d4454550567ff40000000001111100000000000d6dd5511111111111500000000
000000000000000000000000000000000000000051111100000000ffff7d5ded444545556ffff000000051115100000000000066655511111100001110000000
0000000000000000000000000000000000000000001111155000424ff7676ff22222ff6f67ff22500000551111000000000006d66d5111111100000000000000
0000000000000000000000000000000000000000001111550000024eff55ddf42224d4206ffe4200012452111100100000015ddd6d1111111110000000000000
0000000000000000000000000000000000000000011112525000054fff454ff444446f426fff42000002521111100000000d56d6651111110000000000000000
000000000000000000000000000000000000001011115120000022effff447fefffe7642fffff2440000251111110000000dd66d755111111000000000000000
000000000000000000000000000000000000001111111150022ffffff76767fff7ff676e6fffffff22025511111111010006d6dddd1111111100000000000000
00000000000000000000000000000000100001111111111124effffff677777f777f7f777fffffffe44555111111111111166666d55111111000000000000000
000000000000000000000000000000001d10111111151111154effffeff7f7777777f7f7fe4fffffd4555511111111111565dd65dd1111111100000000100000
000000000000000000000000000000002d00001111111111554dffffd4ff7f7777777ffffd44fffe445511111111111116ddd555555111111100000000000000
000000000000000000000000000000000100011111511115555defff4ff7f77777777f77ff44dffd4455111511111511006ddd55555511111100000000000000
0000000000000000000000000000000000001111115111115544eff5eeff777777777777ffe44fe45555115551115dd1005dd55551d511111110000000000000
1000000000000000000001d60000000000001111155d51111554ef654ff7777777777777ffd45fd4551555dd555dd6d50016dd5566ddd6501100000000000000
110000000000001006666676750000000001111155df71111554e555effff777777777ffff44544555116ffddddd66d51dd6d56d6d66dddd1000001151000000
d1100000000001dd6666676766651000001111155ddf61111554e5544fff77777777777ffe44445555116f6f66666dd566dd616506d6dd5d5011110110000000
6dd100000000016ddd5d6667676776611155555d6d5510115554e55444f77777777777fffd4544455111116556f66dd566666d60665011005100111000000000
66dd10000001051155005576767077676ddddd6f01151001155d55544eff77777777777ffe44551551110110006f66d6666d666666d1101d5510000000000000
666d51000005d55501115117777777677776dd661111501155515544fef77777767777fffe44510051100100006f667556d5666d66666d155100111000010000
6666d510000005dd55050667677777777767676f111101111515554eff7f77776677777fffe452000511000000d7665615d5566666d650000001111001010000
66666d5100000000d5d666767677777767f7777611111010111115effff777766677777ffff452200050000066775d55556555515dd050000000000000000000
666666d510000000000dd5666777676d7d76766776d101515115744fff7f77666657777fffd75200000111667776765d55565515515100000000010000000000
6666666d1100000000000d6d66777676d767777777766511101674eee7f777d0f505777fff76d200000156776777766d56666661dd1000011000111110000000
d6666666d1100000000000566667677766667d757667776101566444df7f770677d0777fff67d20000d766767777676657676556100000011100111110000000
dd6666766d11000000000000dd66767666766757777776d010677644f7f77d0050005777fff7752000d677776776767676616600000000000111111110000000
d66d676766510000000000000116656667575d677777660001677f447f77d60566505577ff67662000757776d767676766d1d000000000000011111100000000
dd66d666666510000040000000001655777677656777d50d7d77764ef7766677766d57677ff776dd7707677660767666dd6d0000000000000011111111000000
5dddd666676d11000000000000000d6755677777677750d766776ffff7666667776655767ff777d67d70676766d656d656000000000000010111111100000000
1515ddd66676d110000000000000001d66d6d6677776000066777676f6566677776d55556676766d67d101767660d66600000000000000111111111000000000
1d111dddd6676d1100000000000000001d67000777500d0d60556f67655f66667d66555007666dd5500000676100061000000000000001111111111000000000
111155ddd6666dd11100000000000000100501556d50000dd00056f6506d66dd6d51d550057dd000d00d00d610150000000001dd500511111111110000000000
11115dd6666666d5111111005d000000000505500000510650001066156666000000d55006605000600000050151000000000000000051111111100000000000
115115dd7666666d511110000000000000000015000560060000501655667d000000d5500d5050000d0065d00d00000000000000000000001111100000000000
1111155dd766676cd110000000000000000010000d570055010017661066000000000010056610000500665d0000000000000000000000000001110000000000
1ddd15ddd666666dd000000000000001000000001066006d00006d76006d00000000001000656000055006610000000000000000000000000000011000010011
56d6dd5dddd6665000000000000000000000000006d1066000006666006d1011510000050065507000dd01000000000000000000000000000000511111111111
dddd6d5d6d6660000000000000050540000000000000666010005d75005500d6776100000066d70700dd10000000000004604000000000000000051111111115
ddddd66d66660000000000000000ff62000000000000676777676675005506676d6d500000d66777666d5000000000000f006000000000000000000111155dd7
5d6dd6dd6dd00000000000000002004e00000000000d7677777676700555d666765d500000666677766dd500000000000401d000000000000000000155dd6676
15dd66d660000000000000000002222f0000000000166777777767d0055051d67750510000566777776dd5000000000000d0000000001d111111115dd667666d
1555dddddddddd6d6d11100000004ff20000000000d66677777676600501d1d661100100000666777776d5100000000000000000000551111155ddd677766d6d
11555dddd6d66666dd15100000000000001d000005666777776666d00000501000000000000666677776d5510000005000000000000015155dddd6676666dddd
1155dddd66dd6666d11110000000000005d100000d666777766666d00115500000000000000d66777776d511000000d500000000000055dddd667776666d6d6d
11555ddd66666ddd11111000000000005d10000056676777776666500005500000000000000d666777776d51000000555000000001155ddd6777676666ddd6d5
11115555dddd6ddd111110000000000155000000d6667676fd666d5000001000100000000005666df7f77dd5100000d550000155d5dddd66777666666dd6dd55
1111155ddddd5551111111111111111555000000d667ff4ff4ddd51000000000000000000005d6dffd7445d5100000dd50000015d6d667777766666dd66ddd55
111111ddd5555551111111111111115555000005d666767ff444550000001000000000000001d424ff766dd5100005ddd500005dd666777676666d6dddd5d5d5
1155155dddd55d55511111111111111551000001d6d76766d44450000000000000000000000104444d66dd5d1000015d5d5000d6677777676666dd6dddd6dddd
1115d5ddd5ddd555dd1111111551115555015001d666767564450000000000000000000000000544f6677655500000ddddd00d667777767676dddddddd6dd55d
1d5ddd5555dddddd66dd5511111111155dd5555566d7776665100000000000000000000000000054d66777d55005555dddddd66777776766ddddddd66666d6dd
55d5555555dddd667666ddd111111155dddd55516677776dd1000000000000000000000000000001667677615005d5ddd66677777677766ddddd6d666ddd6d11
11111115155ddd67676766ddd5111515555d5505d6666666515000000006000000000500000000d5d6d6d6d650055dd6666777776666d100d66d6666666d1111
111111115555dd6666767766cdd55151555555156000000d5000000000ddd00000000ddd00000011dd600000d000dd6666777771d11d0000000066666d1115d5
01011111555dddd66667777666dddd155555551d0006500000000000deddd00000000ddddd000000560056100500166777676766151000000001d51ddd11dddd
0015111555dddd66666677777666d5555555510000d6500050000006fddd6d000000ddd5ded000005000d6100000167776d5667676d1000000d511511111dddd
15d6111555ddd6d66767677777666d55555d501000d61000100000ef44dddd000000dd555eef000010005650000001776ddd567766d00055551511111111dddd
55ddd15555efff667676767777766dd555650050016d000000000efed555dd550055d555ddff400010001dd0000000666d55566d6dddd5d555511111111dd555
56d615555defff6f67776767675ddd5d5660060011610000000067ffd45ddd55555555554fff600000110d610000606d555555d6d6dddd1515d5111111ddd555
5566655544fffff676711111111155d566111111111100011111611111155115515555d55dff76f001111161000101111151111111111111116111111115d550
5dd66dd44deffff5061166777777661661177111111100111d6d61177777777711155577777ddddfd1111111000617777761177777777777761111111155dd51
55dd6dd66df6ffff61677777777777661117711111110111d6d6d11777777777611156777776d6d11d111111000117777761177777777777777611115111d510
5dd6d556d6d666ff167777777777777761177111111111116d6d6117777777776111167777776d61161111111001177777611777777777777777611111555000
dd655dd66ddd66f167777777777777776117711111111116d66661177777777771111777777766611d61111110f1177777611777777777777777711111010101
151d1d166d5dd661677777766677777771177711111111166666711777777777761167777777766116d611111161177777611777777666777777761151011010
11116161d1dddd616777776000067777761777711111111666777117777777777611677777777771166d61110671177777611777776111167777761111110101
101d1d15161ddd6167777760111666666617776661111116777771177777777776116777777777711666d6d1fff1177777611777776111167777761100101010
011111115161d6d16777777766611111111777666666666777777117777777777711777776777771166666611df1177777611777776111167777761111111111
10101111151dd6616777777777777661114777666666777777777117777767777766777776777771176666611411177777611777776111167777761110111511
0101011151d15d660677777777777776115777766777777777777117777766777766777766777771177766611211177777611777777666677777765101015151
1010111115161ddd5067777777777777611777777777777777777117777766777776777766777771177777611011177777611777777777777777711110151515
0101011151d166655d00667777777777761777777777777777777117777766777777777766777771177777611111177777611777777777777777610151515151
101011151516166111110000667777777617777760000006777771177777607777777777067777711777776111116777776117777777777777760115151d1511
0101011151d166117777761100067777761777776011110677777117777760677777777606777771177777711111677777611777777777777600115151515111
101011151616d1117777776111167777761777776111111677777117777760677777777616777771177777761116777777611777776000000001111515151010
01010111d1d1d1117777777666677777761777776111111677777117777761177777777116777771167777776667777777611777776000000111011111111101
10101011161dd1116777777777777777761777776111111677777117777761167777776116777771167777777777777776111777776110111110101011101010
0101011151d16d11067777777777777760177777611111167777711777776116777777611677777110677777777777777111177777610101110101d111010101
10101011161665111067777777777776011777776111111677777117777761107777770116777771110677777777777661111777776110101010151115101010
0101011161d161511106677777776600111777776111111677777117777761116777761106777771111016677777766111111777776101015101010101510101
10101011151511111110000000000001111000000111111000000110000001110000001110000001111000000000000111111000000110101010101010101010
01010101111111111111100000000111511100001161111100001101010111110000011100000001111100000000001111111100001101010101515101010101
101010101111111010111111151011101d161d111011111111151410101511101010101111111011111010101011111010111111111010101010101010101011
015101d1011111010101011111d1110101d1d10101015111011171f1010101010101010101110101015101010101010101010111010101010101010101010101
101511151d151d1d1511111111111111111510101010111010121e14101010101010101010101010101010101010101010101010101010101010101010101010
0101511151d111d1d1d1d11101011101111101010101015111010121010101010101010101011101110101010101010101010101010101010101010101010101
1111111d151d151d1d1d1d1115151010111110101010101110101010101010101010101011111110111010101010101010101010101010101010101010101010
01511151515111d1d1d151d151110101010101010101010101010101010101010101010111111101110101010101010101010101010101010101010101010101
10111510111111151515151d10101010101010101010101010101010101010101010101011111011111010101010101010101010101010101010101010101010

__sfx__
000200002261028420016000060000600026000560010600006000060000600006000060000600006000060000600006000060000600006000060000600006000060000000000000000000000000000000000000
00020000266560d6163165612656376560c65025650096500965007650076500765007650076500865008650086500865008650086500865008650096500d6500f650136401b6402063026630286202c61030610
0002000004150140501e0400d6301762014610116100f6400d6300b63009620096100010000100001000010000100001000010000100001000010000100001000010000100001000010000100001000010000100
0001000004150176501664013630036200061000610000100d6000b60009600096000010000100001000010000100001000010000100001000010000100001000010000100001000010000100001000010000100
d701000004450144501e4400d4301741014400114000f4000d4000b40009400094000040000400004000040000400004000040000400004000040000400004000040000400004000040000400004000040000400
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
cf100000001602e1502915000150221501f150001501f1501f13000110131201b13000140111300f130001300f1300f130001300c1300f130001300a130001000015000100001000015000100001000015000100
01100000000602e0502905000050220501f050000501f0501f03000010130201b03000040110300f030000300f0300f030000300c0300f030000300a030000000005000000000000005000000000000005000000
0b1000001007300000000000000000000000001007300000000000000010073000000000000000000000000010073000000000000000000000000010073000000000000000000000000010073000000000010073
451000000052000520005200052000520005200052000520005200052000520005200052000520005200052003520035200352003520035200352003520035200652006520065200652006520065200652006520
452000001552017520155201752015520135201752013520175201a520175201c5201d520175201d520175201f5201f520235202152023520215201c520215201c5201f5201f5201a5201f5201d5201d5201a520
511000000000000000000000000000000000000000000000306550000000000000000000000000000000000000000000000000000000000000000000000000003065500000000000000000000000000000000000
01100000000602e0502905000050220501f050000501f0501f03000010130201b03000040110300f0300003000000000000000000000000000000000000000000000000000000000000000000000000000000000
011000000061700607016170160701617026070361703607046170460705617066070662707607076270760708627096070a6270b6070c6270d6070e6270f60710637126071363715607186471c6071e6571f607
0f1000001007300000000000000000000000001007300000306720000010073000000000000000000000000010073000000000000000000000000010073000003067200000000000000010073000000000010073
b51000000032000320003200032000320003200032000320003200032000320003200032000320003200032003320033200332003320033200332003320033200632006320063200632006320063200632006320
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
003000002a0501f050130500305000050000000005000000000500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0110000021050260502a05023050230503b000250002c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
3f100000153501a3501e350153501a3501e350153501a3501e3501735017352173521735200300003000030000300003000030000300003000030000300003000030000300003000030000300003000030000300
d71000000000000000003540c35000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
8f100000002540c2500c2500c25200402004000040000400004000040000400004000040000400004000040000400004000040000400004000040000400004000040000400004000040000400004000000000000
3f090000002540c250002540c250002540c2500c2520c2520c2520c25200200002000020000200002000020000200002000020000200002000020000200002000020000200002000020000200002000000000000
__music__
00 14164355
00 14164315
01 19581a15
00 13161815
00 13161815
02 14161815
00 41424344
00 41424344
00 41424344
00 41424344
00 41424344
00 41424344
00 41424344
00 41424344
00 41424344
00 41424344
00 16554344
00 16554344
00 16554344
01 16154344
00 16154344
00 1c554344
00 161b4344
02 161b4344
00 1f424344
00 41424344
00 20424344
00 41424344
00 41424344
00 41424344
00 41424344
00 41424344
00 17424344
00 41424344
00 41424344
00 41424344
00 41424344
00 41424344
00 41424344
00 41424344
00 1e424344

